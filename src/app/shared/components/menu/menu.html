<!-- Overlay para mobile -->
<div class="sidebar-overlay" 
     [class.active]="isMobileMenuOpen()" 
     (click)="closeMobileMenu()">
</div>

<!-- Sidebar -->
<nav class="sidebar" [class.expanded]="isExpanded()" [class.mobile-open]="isMobileMenuOpen()">
    <!-- Header -->
    <div class="sidebar-header">
        <div class="logo">
            <mat-icon class="logo-icon">favorite</mat-icon>
            <span class="logo-text" *ngIf="isExpanded()">Auth Manager</span>
        </div>
        <button mat-icon-button class="toggle-btn desktop-only" (click)="toggleSidebar()">
            <mat-icon>{{ isExpanded() ? 'chevron_left' : 'chevron_right' }}</mat-icon>
        </button>
    </div>

    <!-- User Info -->
    <div class="user-info" *ngIf="isExpanded()">
        <div class="user-avatar">
            <mat-icon>account_circle</mat-icon>
        </div>
        <div class="user-details">
            <p class="user-name">{{ currentUser?.name }}</p>
            <p class="user-email">{{ currentUser?.email }}</p>
        </div>
    </div>

    <div class="user-info-collapsed" *ngIf="!isExpanded()">
        <mat-icon>account_circle</mat-icon>
    </div>

    <!-- Divider -->
    <div class="divider"></div>

    <!-- Menu Items -->
    <ul class="menu-list">
        <li *ngFor="let item of menuItems">
            <a [routerLink]="item.path" 
               routerLinkActive="active"
               class="menu-item"
               (click)="closeMobileMenu()">
                <mat-icon class="menu-icon">{{ item.icon }}</mat-icon>
                <span class="menu-label" *ngIf="isExpanded()">{{ item.label }}</span>
            </a>
        </li>
    </ul>

    <!-- Spacer -->
    <div class="spacer"></div>

    <!-- Logout Button -->
    <div class="sidebar-footer">
        <button mat-button class="logout-btn" (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span *ngIf="isExpanded()">Sair</span>
        </button>
    </div>
</nav>

<!-- Mobile Toggle Button -->
<button mat-mini-fab class="mobile-toggle-btn" (click)="toggleMobileMenu()">
    <mat-icon>{{ isMobileMenuOpen() ? 'close' : 'menu' }}</mat-icon>
</button>
